<!doctype html>

<html>
<head>  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title> C/C++ API </title>

  <link type="text/css" href="bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">

<!-- Stylesheet and script related to page content -->
  <link rel="stylesheet" type="text/css" media="screen,portable" href="style/style.css">
  <link rel="stylesheet" type="text/css" media="print" href="style/print-style.css">

  <link rel="stylesheet" type="text/css" href="style/content-formatting.css">

  <link href="images/favicon.png" rel="shortcut icon"> </script>

  
  
  <link rel="start" href="index.html">

  <style>
    .breadcrumb div.linebreak { display : inline; width : 1ex; height : 0px; }
    .pager      div.linebreak { display : inline; width : 1ex; height : 0px; }
    .hacked-breadcrumb { font-size : small; color : gray; }
    .hacked-breadcrumb span.divider { padding : 0px 5px 0px 5px; }
    .hacked-breadcrumb div.linebreak { display : inline; width : 1ex; height : 0px; }
    .nav        div.linebreak { display : inline; width : 1ex; height : 0px; }
  </style>

  <script type="text/javascript">
    function body_onkeypress(ev)
    {
       var keynum;
       if (window.event) keynum = ev.keyCode;
       else              keynum = ev.which;
       
       if      (keynum == 84 || keynum == 116)
       {
         
           document.location = "index.html";
         
       }
       else if (keynum == 73 || keynum == 105)
       {
         
       }
       else
         return keynum;
    }
  </script>
</head>
<body onkeypress="return body_onkeypress(event);">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">      
          <a class="brand" href="http://www.mosek.com">www.mosek.com</a>
          <ul class="nav">
            <li><a href="index.html"> MOSEK Quickstart Guide<div class="linebreak"></div> Version 7.1 (Revision 45) </a></li>
          </ul>
          
        </div>
        
        <div class="container hacked-breadcrumb">      
            
              
              <a href="index.html"> MOSEK Quickstart Guide<div class="linebreak"></div> Version 7.1 (Revision 45) </a><span class="divider">&gt;</span>
            
            C/C++ API
        </div>
        
      </div>
    </div>
  
  <div class="container" style="margin-top : 50px;">
    <div class="container">
      <ul class="pager">
        
        
        
        
      </ul>
    </div>
    
    <hr>
    
    <h1> C/C++ API </h2>


    <div style="height : 1em;">&nbsp;</div>

    <div class="container">
      
        <div class="par"><a name="@generated-ID:7f9e9fce5ad0"></a> The simplest optimization problem is a purely linear problem. A <em>linear optimization problem</em> is a problem of the following form: </div>
<div class="par"> Minimize or maximize the objective function </div>
<div class="math-equation"><a name="chap-using-mosek-api-sec-lo-eq1"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math1.png" alt=" \sum_{j=0}^{n-1} c_{j} x_{j} + c^{f} "></td><td width="0px">(1.1)</td></tr></table></div><div class="par"> subject to the linear constraints </div>
<div class="math-equation"><a name="chap-using-mosek-api-sec-lo-eq2"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math2.png" alt=" l_{k}^{c} \leq{}\sum_{j=0}^{n-1} a_{kj} x_{j} \leq{} u_{k}^{c},{\ } k=0,\ldots{} ,m-1, "></td><td width="0px">(1.2)</td></tr></table></div><div class="par"> and the bounds </div>
<div class="math-equation"><a name="chap-using-mosek-api-sec-lo-eq3"></a><table width="100%"><tr><td width="100%%" class="math"><img src="math/math3.png" alt=" l_{j}^{x} \leq{} x_{j} \leq{} u_{j}^{x}, {\ } j=0,\ldots{} ,n-1, "></td><td width="0px">(1.3)</td></tr></table></div><div class="par"> where we have used the problem elements: </div>
<dl> 
    <dt><div class="par"><img src="math/math4.png" alt="m" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> and <img src="math/math5.png" alt="n" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f9ea00cd788"></a><a name="@generated-ID:7f9ea00cd7c0"></a> which are the number of constraints and variables respectively, </div>
</dd>
<dt><div class="par"><img src="math/math6.png" alt="x" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f9ea00cd7f8"></a> which is the variable vector of length <img src="math/math5.png" alt="n" style="position : relative; bottom : -0px" class="inline-math inline-math-png">, </div>
</dd>
<dt><div class="par"><img src="math/math7.png" alt="c" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f9ea00cd830"></a> which is a coefficient vector of size <img src="math/math5.png" alt="n" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math8.png" alt=" c = \left[{} \begin{array}{c} \displaystyle{} c_{0} \\[0pt] \displaystyle{} \\[0pt] \displaystyle{} c_{n-1} \\[0pt] \end{array} \right]{}, "></td><td></td></tr></table></div></dd>
<dt><div class="par"><img src="math/math9.png" alt="c^{f}" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
</dt>
<dd><div class="par">which is a constant,</div>
</dd>
<dt><div class="par"><img src="math/math10.png" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f9e9ffd4758"></a> which is a <img src="math/math11.png" alt="m{\times}n" style="position : relative; bottom : -1px" class="inline-math inline-math-png"> matrix of coefficients is given by </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math12.png" alt=" A = \left[{} \begin{array}{ccc} \displaystyle{} a_{0,0} &\displaystyle{} \cdots{}&\displaystyle{} a_{0,(n-1)} \\[0pt] \displaystyle{} &\displaystyle{} \cdots{}&\displaystyle{} \\[0pt] \displaystyle{} a_{(m-1),0} &\displaystyle{} \cdots{}&\displaystyle{} a_{(m-1),(n-1)} \\[0pt] \end{array} \right]{}, "></td><td></td></tr></table></div></dd>
<dt><div class="par"><img src="math/math13.png" alt="l^{c}" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> and <img src="math/math14.png" alt="u^{c}" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f9ea0015130"></a><a name="@generated-ID:7f9ea0015168"></a> which specify the lower and upper bounds on constraints respectively, and </div>
</dd>
<dt><div class="par"><img src="math/math15.png" alt="l^{x}" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> and <img src="math/math16.png" alt="u^{x}" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
</dt>
<dd><div class="par"><a name="@generated-ID:7f9ea0015788"></a><a name="@generated-ID:7f9ea0015830"></a> which specifies the lower and upper bounds on variables respectively. </div>
</dd>
</dl><div class="par"> Please note the unconventional notation using <img src="math/math17.png" alt="0" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> as the  first index rather than <img src="math/math18.png" alt="1" style="position : relative; bottom : -0px" class="inline-math inline-math-png">. Hence, <img src="math/math19.png" alt="x_{0}" style="position : relative; bottom : -2px" class="inline-math inline-math-png"> is the first element in variable vector <img src="math/math6.png" alt="x" style="position : relative; bottom : -0px" class="inline-math inline-math-png">. This  convention has been adapted from arrays which are indexed from 0. </div>

      

      
        <h2><a name="section-node-_C%2fC++%20API_Example:%20Linear%20optimization">Example: Linear optimization</a></h2><div class="par"><a name="@generated-ID:7f9ea0015b78"></a> The following is an example of a linear optimization problem: </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math20.png" alt=" \begin{array}{lccccccccc} \displaystyle{} \mbox{maximize}&\displaystyle{} 3 x_{0} &\displaystyle{} + &\displaystyle{} 1 x_{1} &\displaystyle{} + &\displaystyle{} 5 x_{2} &\displaystyle{} + &\displaystyle{} 1 x_{3} &\displaystyle{} &\displaystyle{} \\[0pt] \displaystyle{} \mbox{subject to}&\displaystyle{} 3 x_{0} &\displaystyle{} + &\displaystyle{} 1 x_{1} &\displaystyle{} + &\displaystyle{} 2 x_{2} &\displaystyle{} &\displaystyle{} &\displaystyle{} = &\displaystyle{} 30, \\[0pt] \displaystyle{} &\displaystyle{} 2 x_{0} &\displaystyle{} + &\displaystyle{} 1 x_{1} &\displaystyle{} + &\displaystyle{} 3 x_{2} &\displaystyle{} + &\displaystyle{} 1 x_{3} &\displaystyle{} \geq{}&\displaystyle{} 15, \\[0pt] \displaystyle{} &\displaystyle{} &\displaystyle{} &\displaystyle{} 2 x_{1} &\displaystyle{} &\displaystyle{} &\displaystyle{} + &\displaystyle{} 3 x_{3} &\displaystyle{} \leq{}&\displaystyle{} 25, \\[0pt] \end{array} "></td><td></td></tr></table></div><div class="par"> having the bounds </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math21.png" alt=" \begin{array}{ccccc} \displaystyle{} 0 &\displaystyle{} \leq{}&\displaystyle{} x_{0} &\displaystyle{} \leq{}&\displaystyle{} \infty{} , \\[0pt] \displaystyle{} 0 &\displaystyle{} \leq{}&\displaystyle{} x_{1} &\displaystyle{} \leq{}&\displaystyle{} 10, \\[0pt] \displaystyle{} 0 &\displaystyle{} \leq{}&\displaystyle{} x_{2} &\displaystyle{} \leq{}&\displaystyle{} \infty{} , \\[0pt] \displaystyle{} 0 &\displaystyle{} \leq{}&\displaystyle{} x_{3} &\displaystyle{} \leq{}&\displaystyle{} \infty{} . \\[0pt] \end{array} "></td><td></td></tr></table></div><h3><a name="section-node-_C%2fC++%20API_Example:%20Linear%20optimization_Solving%20the%20problem">Solving the problem</a></h3><div class="par"> To solve the problem above we go through the following steps: </div>
<ul class="enumerate"> 
        <li><div class="par"> Create an environment. </div>
</li>
<li><div class="par"> Create an optimization task. </div>
</li>
<li><div class="par"> Load a problem into the task object. </div>
</li>
<li><div class="par"> Optimization. </div>
</li>
<li><div class="par"> Extracting the solution. </div>
</li>
</ul><div class="par"> Below we explain each of these steps. For the complete source code see section <a href="#ref-lo1-source">1.2</a>. </div>
<dl> 
      <dt><div class="par">Create an environment.</div>
</dt>
<dd><div class="par"> Before setting up the optimization problem, a MOSEK environment must be  created. All tasks in the program should share the same environment. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="55" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_makeenv</span>(&amp;<span class="language-syntax-text">env</span>,<span class="language-syntax-text">NULL</span><span class="language-syntax-text">);</span>&nbsp;</span></li></ol></pre></dd>
<dt><div class="par">Create an optimization task.</div>
</dt>
<dd><div class="par"> Next, an empty task object is created: </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="59" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Create the optimization task. */</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_maketask</span>(<span class="language-syntax-text">env</span>,<span class="language-syntax-text">numcon</span>,<span class="language-syntax-text">numvar</span>,&amp;<span class="language-syntax-text">task</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Directs the log task stream to the 'printstr' function. */</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_linkfunctotaskstream</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">MSK_STREAM_LOG</span>,<span class="language-syntax-text">NULL</span>,<span class="language-syntax-text">printstr</span><span class="language-syntax-text">);</span>&nbsp;</span></li></ol></pre><div class="par"> We also connect a call-back function to the task log stream. Messages  related to the task are passed to the call-back function. In this case  the stream call-back function writes its messages to the standard output  stream. </div>
</dd>
<dt><div class="par">Load a problem into the task object.</div>
</dt>
<dd><div class="par"> Before any problem data can be set, variables and constraints must be added  to the problem via calls to the functions <tt>MSK_appendcons</tt> and <tt>MSK_appendvars</tt>. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="66" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"> The constraints will initially have no bounds. */</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_appendcons</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">numcon</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"> The variables will initially be fixed at zero (x=0). */</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_appendvars</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">numvar</span><span class="language-syntax-text">);</span>&nbsp;</span></li></ol></pre><div class="par"> New variables can now be referenced from other functions with indexes in  <img src="math/math22.png" alt="0, \ldots{}, \mathtt{numvar}-1" style="position : relative; bottom : -3px" class="inline-math inline-math-png"> and new constraints can be referenced  with indexes in <img src="math/math23.png" alt="0, \ldots{} , \mathtt{numcon}-1" style="position : relative; bottom : -3px" class="inline-math inline-math-png">. More variables / constraints can  be appended later as needed, these will be assigned indexes from  <img src="math/math24.png" alt="\mathtt{numvar}" style="position : relative; bottom : -0px" class="inline-math inline-math-png">/<img src="math/math25.png" alt="\mathtt{numcon}" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> and up. </div>
<div class="par"> Next step is to set the problem data. We loop over each variable index  <img src="math/math26.png" alt="j=0, \ldots{}, \mathtt{numvar}-1" style="position : relative; bottom : -3px" class="inline-math inline-math-png"> calling functions to set problem  data. We first set the objective coefficient <img src="math/math27.png" alt="c_{j} = \mathtt{c[j]}" style="position : relative; bottom : -4px" class="inline-math inline-math-png"> by calling the function <tt>MSK_putcj</tt>. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="78" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the linear term c_j in the objective.*/</span>  &nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">if</span>(<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putcj</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span><span class="language-syntax-text">]);</span>&nbsp;</span></li></ol></pre><div class="par"> The bounds on variables are stored in the arrays </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="46" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">MSKboundkeye</span> <span class="language-syntax-text">bkx</span>[]  = {<span class="language-syntax-text">MSK_BK_LO</span>,     <span class="language-syntax-text">MSK_BK_RA</span>, <span class="language-syntax-text">MSK_BK_LO</span>,     <span class="language-syntax-text">MSK_BK_LO</span>     };&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">blx</span>[]  = {<span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,           <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,       <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,           <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>           };&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">bux</span>[]  = {+<span class="language-syntax-text">MSK_INFINITY</span>, <span class="language-syntax-text">10</span>.<span class="language-syntax-text">0</span>,      +<span class="language-syntax-text">MSK_INFINITY</span>, +<span class="language-syntax-text">MSK_INFINITY</span><span class="language-syntax-text"> };</span>&nbsp;</span></li></ol></pre><div class="par"> and are set with calls to <tt>MSK_putvarbound</tt>. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="82" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the bounds on variable j.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"> blx[j] &lt;= x_j &lt;= bux[j] */</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">if</span>(<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putvarbound</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                      <span class="language-syntax-text">j</span>,           <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Index of variable.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                      <span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bound key.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                      <span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of lower bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                      <span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>]);     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of upper bound.*/</span>&nbsp;</span></li></ol></pre><div class="par"> The <em>Bound key</em> stored in <tt>bkx</tt> specify the type of the bound  according to Table <a href="#CH:API:TAB:BOUNDKEYS2">1.1.1.1</a>. </div>
<div class="table nofloat-element"><center><table class="nofloat-content"><tr><td class="float-body"><div style="text-align : center;"><div style="display : inline-block;" class="table-container"><table class="generic-table"><tr class="table-row-0"><td style="border-top : solid thin; border-right : solid thin; border-bottom : solid medium; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"> Bound key </div>
</td><td style="border-top : solid thin; border-right : solid thin; border-bottom : solid medium; border-left : none; text-align : left;" class="table-column-1"><div class="par"> Type of bound </div>
</td><td style="border-top : solid thin; border-right : solid thin; border-bottom : solid medium; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Lower bound </div>
</td><td style="border-top : solid thin; border-right : solid thin; border-bottom : solid medium; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Upper bound </div>
</td></tr><tr class="table-row-1"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt>MSK_BK_FX</tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"><img src="math/math28.png" alt="\cdots{} = l_{j}" style="position : relative; bottom : -4px" class="inline-math inline-math-png"></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Finite </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Identical to the lower bound </div>
</td></tr><tr class="table-row-2"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt>MSK_BK_FR</tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"> Free </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Minus infinity </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Plus infinity </div>
</td></tr><tr class="table-row-3"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt>MSK_BK_LO</tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"><img src="math/math29.png" alt="l_{j} \leq{}\cdots{}" style="position : relative; bottom : -4px" class="inline-math inline-math-png"></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Finite </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Plus infinity </div>
</td></tr><tr class="table-row-4"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt>MSK_BK_RA</tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"><img src="math/math30.png" alt="l_{j} \leq{}\cdots{}\leq{} u_{j} " style="position : relative; bottom : -4px" class="inline-math inline-math-png"></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Finite </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Finite </div>
</td></tr><tr class="table-row-5"><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : solid thin; text-align : left;" class="table-column-0"><div class="par"><tt>MSK_BK_UP</tt></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-1"><div class="par"><img src="math/math31.png" alt="\cdots{}\leq{} u_{j}" style="position : relative; bottom : -4px" class="inline-math inline-math-png"></div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-2"><div class="par"> Minus infinity </div>
</td><td style="border-top : none; border-right : solid thin; border-bottom : solid thin; border-left : none; text-align : left;" class="table-column-3"><div class="par"> Finite </div>
</td></tr></table></div></div></td></tr><tr><td class="float-caption">Tab. 1.1.1.1. Interpretation of the bound keys.</td></tr></table></center></div><div class="par"> For instance <tt>bkx[0]=</tt><tt>MSK_BK_LO</tt> means that <img src="math/math32.png" alt="x_{0} \geq{} l_{0}^{x}" style="position : relative; bottom : -4px" class="inline-math inline-math-png">. Finally, the numerical values of the bounds on variables  are given by </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math33.png" alt=" l_{j}^{x} = \mathtt{blx[j]}"></td><td></td></tr></table></div><div class="par"> and </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math34.png" alt=" u_{j}^{x} = \mathtt{bux[j]}. "></td><td></td></tr></table></div><div class="par"> Recall that in our example the <img src="math/math10.png" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> matrix is given by </div>
<div class="math-equation"><table width="100%"><tr><td width="100%%" class="math"><img src="math/math35.png" alt=" A = \left[{} \begin{array}{cccc} \displaystyle{} 3 &\displaystyle{} 1 &\displaystyle{} 2 &\displaystyle{} 0 \\[0pt] \displaystyle{} 2 &\displaystyle{} 1 &\displaystyle{} 3 &\displaystyle{} 1 \\[0pt] \displaystyle{} 0 &\displaystyle{} 2 &\displaystyle{} 0 &\displaystyle{} 3 \\[0pt] \end{array} \right]{}. "></td><td></td></tr></table></div><div class="par"> This matrix is stored in sparse format in the arrays: </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="30" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">MSKint32t</span>    <span class="language-syntax-text">aptrb</span>[] = {<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>, <span class="language-syntax-text">5</span>, <span class="language-syntax-text">7</span>},&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">aptre</span>[] = {<span class="language-syntax-text">2</span>, <span class="language-syntax-text">5</span>, <span class="language-syntax-text">7</span>, <span class="language-syntax-text">9</span>},&nbsp;</span></li><li><span class="language-syntax-text">             <span class="language-syntax-text">asub</span>[]  = { <span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>,&nbsp;</span></li><li><span class="language-syntax-text">                         <span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>,&nbsp;</span></li><li><span class="language-syntax-text">                         <span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>,&nbsp;</span></li><li><span class="language-syntax-text">                         <span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>};&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">aval</span>[]  = { <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                         <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                         <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                         <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span><span class="language-syntax-text">};</span>&nbsp;</span></li></ol></pre><div class="par"> The <tt>ptrb</tt>, <tt>ptre</tt>, <tt>asub</tt>, and <tt>aval</tt> arguments define  the constraint matrix <img src="math/math10.png" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> in the column ordered sparse format. </div>
<div class="par"> Using the function <tt>MSK_putacol</tt> we set column <img src="math/math36.png" alt="j" style="position : relative; bottom : -3px" class="inline-math inline-math-png"> of <img src="math/math10.png" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-png"></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="93" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putacol</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                <span class="language-syntax-text">j</span>,                 <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Variable (column) index.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                <span class="language-syntax-text">aptre</span>[<span class="language-syntax-text">j</span>]-<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">j</span>], <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Number of non-zeros in column j.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                <span class="language-syntax-text">asub</span>+<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">j</span>],     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Pointer to row indexes of column j.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                <span class="language-syntax-text">aval</span>+<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">j</span>]);    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Pointer to Values of column j.*/</span>&nbsp;</span></li></ol></pre><div class="par"> Alternatively, the same <img src="math/math10.png" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> matrix can be set one row at a time;  please see section <a href="#ref-lo2-source">1.3</a> for an example. </div>
<div class="par"> Finally, the bounds on each constraint are set by looping over each constraint index <img src="math/math37.png" alt="i= 0, \ldots{},\mathtt{numcon}-1" style="position : relative; bottom : -3px" class="inline-math inline-math-png"></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="100" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the bounds on constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">   for i=1, ...,numcon : blc[i] &lt;= constraint i &lt;= buc[i] */</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">for</span>(<span class="language-syntax-text">i</span>=<span class="language-syntax-text">0</span>; <span class="language-syntax-text">i</span>&lt;<span class="language-syntax-text">numcon</span> &amp;&amp; <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span>; ++<span class="language-syntax-text">i</span>)&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putconbound</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                      <span class="language-syntax-text">i</span>,           <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Index of constraint.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                      <span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bound key.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                      <span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of lower bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                      <span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>]);     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of upper bound.*/</span>&nbsp;</span></li></ol></pre></dd>
<dt><div class="par">Optimization:</div>
</dt>
<dd><div class="par"> After the problem is set-up the task can be optimized by calling the function <tt>MSK_optimizetrm</tt>. </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="118" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_optimizetrm</span>(<span class="language-syntax-text">task</span>,&amp;<span class="language-syntax-text">trmcode</span><span class="language-syntax-text">);</span>&nbsp;</span></li></ol></pre></dd>
<dt><div class="par">Extracting the solution.</div>
</dt>
<dd><div class="par"> After optimizing the status of the  solution is examined with a call to  <tt>MSK_getsolsta</tt>. If the solution status is  reported as <tt>MSK_SOL_STA_OPTIMAL</tt> or  <tt>MSK_SOL_STA_NEAR_OPTIMAL</tt> the solution is extracted in  the lines below: </div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="140" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-text">MSK_getxx</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-text">MSK_SOL_BAS</span>,    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Request the basic solution. */</span>&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-text">xx</span><span class="language-syntax-text">);</span>&nbsp;</span></li></ol></pre><div class="par"> The <tt>MSK_getxx</tt> function obtains the solution. MOSEK may compute several  solutions depending on the optimizer employed. In this example the <em>basic solution</em> is requested by setting the first argument to <tt>MSK_SOL_BAS</tt>. </div>
</dd>
</dl><div class="par"> The complete source code is listed in <a href="#ref-lo1-source">lo1</a>. </div>
<div class="par"> In the example above, the <img src="math/math10.png" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> matrix is set one column at a time.  The same can be done one row at a time, or the two methods can be mixed.  Example <a href="#ref-lo2-source">lo2</a> shows how to set the <img src="math/math10.png" alt="A" style="position : relative; bottom : -0px" class="inline-math inline-math-png"> matrix by rows. </div>
<div class="par"> For further details on MOSEK and the C API, please see the <a href="http://docs.mosek.com/7.0/capi/index.html">MOSEK C API Manual</a>. </div>
<h3><a name="section-node-_C%2fC++%20API_Example:%20Linear%20optimization_Compiling%20and%20running%20lo1">Compiling and running lo1</a></h3><div class="par"> This section shows the commands necessary to compile the example <tt>lo1</tt> above from a command line and run it. </div>
<h4><a name="section-node-_C%2fC++%20API_Example:%20Linear%20optimization_Compiling%20and%20running%20lo1_Microsoft%20Windows">Microsoft Windows</a></h4><div class="par"> We assume that MOSEK was installed in the default location </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">C:\Program Files\mosek&nbsp;</span></li></ol></pre><div class="par"> Open a DOS box with the Visual Studio tool chain enabled: Usually  there is under <b>Microsoft Visual Studio 20xx/Visual Studio Tools</b> a menu point <b>... x64 Tools Command Prompt</b>. </div>
<div class="par"> Go to the location of your example file <tt>lo1.c</tt>, e.g. </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">c:&nbsp;</span></li><li><span class="language-syntax-text">cd \Users\me\src\lo1&nbsp;</span></li></ol></pre><div class="par"> Compile the example: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">cl /c /I"C:\Program Files\mosek\7\tools\platform\win64x86\h" /Folo1.obj lo1.c&nbsp;</span></li><li><span class="language-syntax-text">link /libpath:"C:\Program Files\mosek\7\tools\platform\win64x86\bin" mosek64_7_0 /out:lo1.exe lo1.obj&nbsp;</span></li></ol></pre><div class="par"> If MOSEK was correctly installed, you can now run the example by entering </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">lo1&nbsp;</span></li></ol></pre><div class="par"> If you want to make sure that your application can run even when MOSEK is not installed, you need to do two things:  First copy the essential MOSEK DLLs into your application directory: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">copy "C:\Program Files\mosek\7\tools\platform\win64x86\bin\<tt>mosek64_7_0.dll</tt>" . &nbsp;</span></li><li><span class="language-syntax-text">copy "C:\Program Files\mosek\7\tools\platform\win64x86\bin\libiomp5md.dll" . &nbsp;</span></li><li><span class="language-syntax-text">copy "C:\Program Files\mosek\7\tools\platform\win64x86\bin\<tt>mosekglb64_7_0.dll</tt>" . &nbsp;</span></li></ol></pre><div class="par"> Secondly, make sure that your application knows a valid license file. Usually the license file is started at </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">%USERPROFILE%\mosek.lic&nbsp;</span></li></ol></pre><div class="par"> or rewrite your application to pass the right path immediately after the environment is created as illustrated in: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">int main(int argc, char ** argv)&nbsp;</span></li><li><span class="language-syntax-text">{&nbsp;</span></li><li><span class="language-syntax-text">  char * moseklifile = argv[1];&nbsp;</span></li><li><span class="language-syntax-text">  MSKenv_t    env;&nbsp;</span></li><li><span class="language-syntax-text">  MSKrescodee r;&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  r = MSK_makeenv(&amp;env, NULL);&nbsp;</span></li><li><span class="language-syntax-text">  if ( r==MSK_RES_OK )&nbsp;</span></li><li><span class="language-syntax-text">    r = MSK_putlicensepath(env,moseklicfile);&nbsp;</span></li><li><span class="language-syntax-text">  ...&nbsp;</span></li></ol></pre><div class="par"> Above we assumed that compilation was done on an x64 machine. If you are compiling on a 32-bit architecture, you must </div>
<ul> 
          <li><div class="par">Replace <tt>win64x86</tt> by <tt>win32x86</tt>.</div>
</li>
 
          <li><div class="par">Replace <tt><tt>mosek64_7_0.dll</tt></tt> by <tt><tt>mosek7_0.dll</tt></tt> when building.</div>
</li>
 
          <li><div class="par">Copy <tt><tt>mosek7_0.dll</tt></tt> and <tt><tt>mosekglb_7_0.dll</tt></tt> instead of <tt><tt>mosek64_7_0.dll</tt></tt> and <tt><tt>mosekglb64_7_0.dll</tt></tt>.</div>
</li>
 
        </ul><h4><a name="section-node-_C%2fC++%20API_Example:%20Linear%20optimization_Compiling%20and%20running%20lo1_Linux">Linux</a></h4><div class="par"> We assume that MOSEK was installed in the user's home directory </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">$HOME/mosek&nbsp;</span></li></ol></pre><div class="par"> Open a terminal and go to the location of your example file <tt>lo1.c</tt>, e.g. </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">cd ~/src/lo1&nbsp;</span></li></ol></pre><div class="par"> Compile the example with <tt>gcc</tt>: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">gcc -o lo1 \ &nbsp;</span></li><li><span class="language-syntax-text">  -I$HOME/mosek/7/tools/platform/linux64x86/h \ &nbsp;</span></li><li><span class="language-syntax-text">  -L$HOME/mosek/7/tools/platform/linux64x86/bin \ &nbsp;</span></li><li><span class="language-syntax-text">  -Wl,-rpath-link=$HOME/mosek/7/tools/platform/linux64x86/bin \ &nbsp;</span></li><li><span class="language-syntax-text">  -lmosek64 \ &nbsp;</span></li><li><span class="language-syntax-text">  lo1.c &nbsp;</span></li></ol></pre><div class="par"> If MOSEK was correctly installed, you can now run the example by entering </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">lo1&nbsp;</span></li></ol></pre><div class="par"> If you want to make sure that your application can run even when MOSEK is not installed, you need to do three things:  First, add the parameter </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">-Wl,-rpath=\$ORIGIN&nbsp;</span></li></ol></pre><div class="par"> to te build line. This will allow the application to look for shared library dependencies in the same directory as the application executable. </div>
<div class="par"> Secondly, copy the essential MOSEK libraries into your application directory: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">cp $HOME/mosek/7/tools/platform/linux64x86/bin/libmosek64.so.7.1 . &nbsp;</span></li><li><span class="language-syntax-text">cp $HOME/mosek/7/tools/platform/linux64x86/bin/libiomp5.so . &nbsp;</span></li><li><span class="language-syntax-text">cp $HOME/mosek/7/tools/platform/linux64x86/bin/libmosekglb64.so.7.1 . &nbsp;</span></li></ol></pre><div class="par"> Finally, make sure that your application knows a valid license file. Usually the license file is stored at </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">$HOME/mosek/mosek.lic&nbsp;</span></li></ol></pre><div class="par"> or rewrite your application to pass the right path immediately after the environment is created, for example: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text"><span class="language-syntax-keyword">int</span> <span class="language-syntax-text">main</span>(<span class="language-syntax-keyword">int</span> <span class="language-syntax-text">argc</span>, <span class="language-syntax-keyword">char</span> ** <span class="language-syntax-text">argv</span>)&nbsp;</span></li><li><span class="language-syntax-text">{&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">char</span> * <span class="language-syntax-text">moseklicfile</span> = <span class="language-syntax-text">argv</span>[<span class="language-syntax-text">1</span>];&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKenv_t</span> <span class="language-syntax-text">env</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKrescodee</span> <span class="language-syntax-text">r</span>;&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_makeenv</span>(&amp;<span class="language-syntax-text">env</span>,<span class="language-syntax-text">NULL</span>);&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putlicensepath</span>(<span class="language-syntax-text">env</span>,<span class="language-syntax-text">moseklicfile</span>);&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">  ...</span>&nbsp;</span></li></ol></pre><div class="par"> Above we assumed that compilation was done on an x64 machine. If you are compiling on a 32-bit architecture, you must </div>
<ul> 
          <li><div class="par">Replace <tt>linux64x86</tt> by <tt>linux32x86</tt>.</div>
</li>
 
          <li><div class="par">Replace <tt>mosek64</tt> by <tt>mosek</tt> when building.</div>
</li>
 
          <li><div class="par">Copy <tt>libmosek.so.7.1</tt> and <tt>libmosekglb.so</tt> instead of <tt>libmosek64.so.7.1</tt> and <tt>libmosekglb64.so</tt>.</div>
</li>
 
        </ul><h4><a name="section-node-_C%2fC++%20API_Example:%20Linear%20optimization_Compiling%20and%20running%20lo1_MacOS%20X">MacOS X</a></h4><div class="par"> We assume that MOSEK was installed in the user's home directory </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">$HOME/mosek&nbsp;</span></li></ol></pre><div class="par"> Open a terminal and go to the location of your example file <tt>lo1.c</tt>, e.g. </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">cd ~/src/lo1&nbsp;</span></li></ol></pre><div class="par"> Compile the example with <tt>gcc</tt>: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">gcc -o lo1 \ &nbsp;</span></li><li><span class="language-syntax-text">  -I$HOME/mosek/7/tools/platform/linux64x86/h \ &nbsp;</span></li><li><span class="language-syntax-text">  -L$HOME/mosek/7/tools/platform/linux64x86/bin \ &nbsp;</span></li><li><span class="language-syntax-text">  -Wl,-rpath-link=$HOME/mosek/7/tools/platform/linux64x86/bin \ &nbsp;</span></li><li><span class="language-syntax-text">  -lmosek \ &nbsp;</span></li><li><span class="language-syntax-text">  lo1.c &nbsp;</span></li></ol></pre><div class="par"> If MOSEK was correctly installed, you can now run the example by entering </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">lo1&nbsp;</span></li></ol></pre><div class="par"> If you want to make sure that your application can run even when MOSEK is not installed, you need to do three things:  First, modify the built binary <tt>lo1</tt></div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">install_name_tool -change libmosek64.7.1.dylib @executable_path/libmosek64.7.1.dylib &nbsp;</span></li></ol></pre><div class="par"> This will allow the application to look for <tt>libmosek64</tt> in the same directory as the application executable. </div>
<div class="par"> Secondly, copy the essential MOSEK libraries into your application directory: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">cp $HOME/mosek/\mskmajorver/tools/platform/linux64x86/bin/libmosek64.\mskmajorver.\mskminorver.dylib .&nbsp;</span></li><li><span class="language-syntax-text">cp $HOME/mosek/\mskmajorver/tools/platform/linux64x86/bin/libiomp5.so .&nbsp;</span></li><li><span class="language-syntax-text">cp $HOME/mosek/\mskmajorver/tools/platform/linux64x86/bin/libmosekglb64.\mskmajorver.\mskminorver.dylib .&nbsp;</span></li></ol></pre><div class="par"> Finally, make sure that your application knows a valid license file. Usually the license file is stored at </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text">$HOME/mosek/mosek.lic&nbsp;</span></li></ol></pre><div class="par"> or rewrite your application to pass the right path immediately after the environment is created, for example: </div>
<pre class="prettyprint"><ol style="list-style : none"><li><span class="language-syntax-text"><span class="language-syntax-keyword">int</span> <span class="language-syntax-text">main</span>(<span class="language-syntax-keyword">int</span> <span class="language-syntax-text">argc</span>, <span class="language-syntax-keyword">char</span> ** <span class="language-syntax-text">argv</span>)&nbsp;</span></li><li><span class="language-syntax-text">{&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">char</span> * <span class="language-syntax-text">moseklicfile</span> = <span class="language-syntax-text">argv</span>[<span class="language-syntax-text">1</span>];&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKenv_t</span> <span class="language-syntax-text">env</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKrescodee</span> <span class="language-syntax-text">r</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_makeenv</span>(&amp;<span class="language-syntax-text">env</span>,<span class="language-syntax-text">NULL</span>);&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putlicensepath</span>(<span class="language-syntax-text">env</span>,<span class="language-syntax-text">moseklicfile</span>);&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">  ...</span>&nbsp;</span></li></ol></pre><div class="par"> Above we assumed that compilation was done on an x64 machine. If you are compiling on a 32-bit architecture, you must </div>
<ul> 
          <li><div class="par">Replace <tt>win64x86</tt> by <tt>win32x86</tt>.</div>
</li>
 
          <li><div class="par">Replace <tt>mosek64</tt> by <tt>mosek</tt> when building.</div>
</li>
 
          <li><div class="par">Copy <tt>libmosek.7.1.dylib</tt> and <tt>libmosekglb.dylib</tt> instead of <tt>libmosek.7.1.dylib</tt> and <tt>libmosek.7.1.dylib</tt>.</div>
</li>
 
        </ul><h3><a name="section-node-_C%2fC++%20API_Example:%20Linear%20optimization_Further%20documentation">Further documentation</a></h3><div class="par"> For further documentation see </div>
<ul> 
        <li><div class="par"><a href="http://docs.mosek.com/7.1/capi/index.html">MOSEK optimizer C API</a></div>
</li>
 
        <li><div class="par"><a href="http://docs.mosek.com/generic/modeling.pdf">MOSEK modeling manual</a></div>
</li>
 
      </ul><h2><a name="ref-lo1-source">Source code for lo1</a></h2><div class="par"><a name="@generated-ID:7f9ea00ac790"></a><a name="@generated-ID:7f9ea00ac7c8"></a><a name="@generated-ID:7f9ea00ac800"></a><a name="@generated-ID:7f9ea00ac838"></a><a name="@generated-ID:7f9ea00ac870"></a></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo1.c">Download lo1.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="1" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"></span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">  Copyright: Copyright (c) MOSEK ApS, Denmark. All rights reserved.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"></span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">  File:      lo1.c</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"></span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">  Purpose:   To demonstrate how to solve a small linear</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">             optimization problem using the MOSEK C API, </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">             and handle the solver result and the problem</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">             solution.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">*/</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-preproc">#include</span> &lt;<span class="language-syntax-text">stdio</span>.<span class="language-syntax-text">h</span>&gt;&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-preproc">#include</span> <span class="language-syntax-string">"mosek.h"</span> &nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> This function prints log output from MOSEK to the terminal. */</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">static</span> <span class="language-syntax-keyword">void</span> <span class="language-syntax-text">MSKAPI</span> <span class="language-syntax-text">printstr</span>(<span class="language-syntax-keyword">void</span> *<span class="language-syntax-text">handle</span>,&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">MSKCONST</span> <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">str</span>[])&nbsp;</span></li><li><span class="language-syntax-text">{&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"%s"</span>,<span class="language-syntax-text">str</span>);&nbsp;</span></li><li><span class="language-syntax-text">} <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> printstr */</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">int</span> <span class="language-syntax-text">main</span>(<span class="language-syntax-keyword">int</span> <span class="language-syntax-text">argc</span>,<span class="language-syntax-keyword">char</span> *<span class="language-syntax-text">argv</span>[])&nbsp;</span></li><li><span class="language-syntax-text">{&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">const</span> <span class="language-syntax-text">MSKint32t</span> <span class="language-syntax-text">numvar</span> = <span class="language-syntax-text">4</span>,&nbsp;</span></li><li><span class="language-syntax-text">                  <span class="language-syntax-text">numcon</span> = <span class="language-syntax-text">3</span>;&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">c</span>[]     = {<span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">5</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>};&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Below is the sparse representation of the A</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">     matrix stored by column. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKint32t</span>    <span class="language-syntax-text">aptrb</span>[] = {<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>, <span class="language-syntax-text">5</span>, <span class="language-syntax-text">7</span>},&nbsp;</span></li><li><span class="language-syntax-text">               <span class="language-syntax-text">aptre</span>[] = {<span class="language-syntax-text">2</span>, <span class="language-syntax-text">5</span>, <span class="language-syntax-text">7</span>, <span class="language-syntax-text">9</span>},&nbsp;</span></li><li><span class="language-syntax-text">               <span class="language-syntax-text">asub</span>[]  = { <span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">1</span>, <span class="language-syntax-text">2</span>};&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">aval</span>[]  = { <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>};&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bounds on constraints. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKboundkeye</span> <span class="language-syntax-text">bkc</span>[]  = {<span class="language-syntax-text">MSK_BK_FX</span>, <span class="language-syntax-text">MSK_BK_LO</span>,     <span class="language-syntax-text">MSK_BK_UP</span>    };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">blc</span>[]  = {<span class="language-syntax-text">30</span>.<span class="language-syntax-text">0</span>,      <span class="language-syntax-text">15</span>.<span class="language-syntax-text">0</span>,          -<span class="language-syntax-text">MSK_INFINITY</span>};&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">buc</span>[]  = {<span class="language-syntax-text">30</span>.<span class="language-syntax-text">0</span>,      +<span class="language-syntax-text">MSK_INFINITY</span>, <span class="language-syntax-text">25</span>.<span class="language-syntax-text">0</span>         };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bounds on variables. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKboundkeye</span> <span class="language-syntax-text">bkx</span>[]  = {<span class="language-syntax-text">MSK_BK_LO</span>,     <span class="language-syntax-text">MSK_BK_RA</span>, <span class="language-syntax-text">MSK_BK_LO</span>,     <span class="language-syntax-text">MSK_BK_LO</span>     };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">blx</span>[]  = {<span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,           <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,       <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,           <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>           };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">bux</span>[]  = {+<span class="language-syntax-text">MSK_INFINITY</span>, <span class="language-syntax-text">10</span>.<span class="language-syntax-text">0</span>,      +<span class="language-syntax-text">MSK_INFINITY</span>, +<span class="language-syntax-text">MSK_INFINITY</span> };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKenv_t</span>     <span class="language-syntax-text">env</span>  = <span class="language-syntax-text">NULL</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKtask_t</span>    <span class="language-syntax-text">task</span> = <span class="language-syntax-text">NULL</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKrescodee</span>  <span class="language-syntax-text">r</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKint32t</span>    <span class="language-syntax-text">i</span>,<span class="language-syntax-text">j</span>;&nbsp;</span></li><li><span class="language-syntax-text">   &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Create the mosek environment. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_makeenv</span>(&amp;<span class="language-syntax-text">env</span>,<span class="language-syntax-text">NULL</span>);&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">  {&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Create the optimization task. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_maketask</span>(<span class="language-syntax-text">env</span>,<span class="language-syntax-text">numcon</span>,<span class="language-syntax-text">numvar</span>,&amp;<span class="language-syntax-text">task</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Directs the log task stream to the 'printstr' function. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_linkfunctotaskstream</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">MSK_STREAM_LOG</span>,<span class="language-syntax-text">NULL</span>,<span class="language-syntax-text">printstr</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">     The constraints will initially have no bounds. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_appendcons</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">numcon</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">     The variables will initially be fixed at zero (x=0). */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_appendvars</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">numvar</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">for</span>(<span class="language-syntax-text">j</span>=<span class="language-syntax-text">0</span>; <span class="language-syntax-text">j</span>&lt;<span class="language-syntax-text">numvar</span> &amp;&amp; <span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>; ++<span class="language-syntax-text">j</span>)&nbsp;</span></li><li><span class="language-syntax-text">    {&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the linear term c_j in the objective.*/</span>  &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span>(<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putcj</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span>]);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the bounds on variable j.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">       blx[j] &lt;= x_j &lt;= bux[j] */</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span>(<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putvarbound</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">j</span>,           <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Index of variable.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bound key.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of lower bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>]);     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of upper bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Input column j of A */</span>   &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span>(<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putacol</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">j</span>,                 <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Variable (column) index.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">aptre</span>[<span class="language-syntax-text">j</span>]-<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">j</span>], <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Number of non-zeros in column j.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">asub</span>+<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">j</span>],     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Pointer to row indexes of column j.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">aval</span>+<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">j</span>]);    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Pointer to Values of column j.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">    }&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the bounds on constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">       for i=1, ...,numcon : blc[i] &lt;= constraint i &lt;= buc[i] */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">for</span>(<span class="language-syntax-text">i</span>=<span class="language-syntax-text">0</span>; <span class="language-syntax-text">i</span>&lt;<span class="language-syntax-text">numcon</span> &amp;&amp; <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span>; ++<span class="language-syntax-text">i</span>)&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putconbound</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                          <span class="language-syntax-text">i</span>,           <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Index of constraint.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                          <span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bound key.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                          <span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of lower bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                          <span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>]);     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of upper bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Maximize objective function. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> (<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putobjsense</span>(<span class="language-syntax-text">task</span>, <span class="language-syntax-text">MSK_OBJECTIVE_SENSE_MAXIMIZE</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">    {&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">MSKrescodee</span> <span class="language-syntax-text">trmcode</span>;&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Run optimizer */</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_optimizetrm</span>(<span class="language-syntax-text">task</span>,&amp;<span class="language-syntax-text">trmcode</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Print a summary containing information</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">         about the solution for debugging purposes. */</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">MSK_solutionsummary</span> (<span class="language-syntax-text">task</span>,<span class="language-syntax-text">MSK_STREAM_LOG</span>);&nbsp;</span></li><li><span class="language-syntax-text">     &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">      {&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">MSKsolstae</span> <span class="language-syntax-text">solsta</span>;&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_getsolsta</span> (<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                             <span class="language-syntax-text">MSK_SOL_BAS</span>,&nbsp;</span></li><li><span class="language-syntax-text">                             &amp;<span class="language-syntax-text">solsta</span>);&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">switch</span>(<span class="language-syntax-text">solsta</span>)&nbsp;</span></li><li><span class="language-syntax-text">        {&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_OPTIMAL</span>:   &nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_NEAR_OPTIMAL</span>:&nbsp;</span></li><li><span class="language-syntax-text">          {&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">double</span> *<span class="language-syntax-text">xx</span> = (<span class="language-syntax-keyword">double</span>*) <span class="language-syntax-text">calloc</span>(<span class="language-syntax-text">numvar</span>,<span class="language-syntax-keyword">sizeof</span>(<span class="language-syntax-keyword">double</span>));&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">xx</span> )&nbsp;</span></li><li><span class="language-syntax-text">            {&nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-text">MSK_getxx</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">MSK_SOL_BAS</span>,    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Request the basic solution. */</span>&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">xx</span>);&nbsp;</span></li><li><span class="language-syntax-text">        &nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"Optimal primal solution\n"</span>);&nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-keyword">for</span>(<span class="language-syntax-text">j</span>=<span class="language-syntax-text">0</span>; <span class="language-syntax-text">j</span>&lt;<span class="language-syntax-text">numvar</span>; ++<span class="language-syntax-text">j</span>)&nbsp;</span></li><li><span class="language-syntax-text">                <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"x[%d]: %e\n"</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">xx</span>[<span class="language-syntax-text">j</span>]);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-text">free</span>(<span class="language-syntax-text">xx</span>);&nbsp;</span></li><li><span class="language-syntax-text">            }&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">else</span> &nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_RES_ERR_SPACE</span>;&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">break</span>;&nbsp;</span></li><li><span class="language-syntax-text">          }&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_DUAL_INFEAS_CER</span>:&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_PRIM_INFEAS_CER</span>:&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_NEAR_DUAL_INFEAS_CER</span>:&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_NEAR_PRIM_INFEAS_CER</span>:  &nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"Primal or dual infeasibility certificate found.\n"</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">break</span>;&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_UNKNOWN</span>:&nbsp;</span></li><li><span class="language-syntax-text">          {&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">symname</span>[<span class="language-syntax-text">MSK_MAX_STR_LEN</span>];&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">desc</span>[<span class="language-syntax-text">MSK_MAX_STR_LEN</span>];&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> If the solutions status is unknown, print the termination code</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">               indicating why the optimizer terminated prematurely. */</span>&nbsp;</span></li><li><span class="language-syntax-text">            &nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">MSK_getcodedesc</span>(<span class="language-syntax-text">trmcode</span>,&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">symname</span>,&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">desc</span>);&nbsp;</span></li><li><span class="language-syntax-text">            &nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"The solution status is unknown.\n"</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"The optimizer terminitated with code: %s\n"</span>,<span class="language-syntax-text">symname</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">break</span>;&nbsp;</span></li><li><span class="language-syntax-text">          }&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">default</span>:&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"Other solution status.\n"</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">break</span>;&nbsp;</span></li><li><span class="language-syntax-text">        }&nbsp;</span></li><li><span class="language-syntax-text">      }&nbsp;</span></li><li><span class="language-syntax-text">    }&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> (<span class="language-syntax-text">r</span> != <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">    {&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> In case of an error print error code and description. */</span>      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">symname</span>[<span class="language-syntax-text">MSK_MAX_STR_LEN</span>];&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">desc</span>[<span class="language-syntax-text">MSK_MAX_STR_LEN</span>];&nbsp;</span></li><li><span class="language-syntax-text">      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"An error occurred while optimizing.\n"</span>);     &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">MSK_getcodedesc</span> (<span class="language-syntax-text">r</span>,&nbsp;</span></li><li><span class="language-syntax-text">                       <span class="language-syntax-text">symname</span>,&nbsp;</span></li><li><span class="language-syntax-text">                       <span class="language-syntax-text">desc</span>);&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"Error %s - '%s'\n"</span>,<span class="language-syntax-text">symname</span>,<span class="language-syntax-text">desc</span>);&nbsp;</span></li><li><span class="language-syntax-text">    }&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Delete the task and the associated data. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">MSK_deletetask</span>(&amp;<span class="language-syntax-text">task</span>);&nbsp;</span></li><li><span class="language-syntax-text">  }&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Delete the environment and the associated data. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSK_deleteenv</span>(&amp;<span class="language-syntax-text">env</span>);&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">return</span> <span class="language-syntax-text">r</span>;&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">}</span>&nbsp;</span></li></ol></pre><h2><a name="ref-lo2-source">Row-wise input</a></h2><div class="par"><a name="@generated-ID:4d45da8"></a><a name="@generated-ID:4d45de0"></a></div>
<div class="container"><div class="btn-toolbar"><div class="btn-group pull-right"><div class="btn"><a href="data/lo2.c">Download lo2.c</a></div></div></div></div><div style="height : 2px;"></div><pre class="prettyprint linenums"><ol start="1" class="linenums"><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"></span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">  Copyright: Copyright (c) MOSEK ApS, Denmark. All rights reserved.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"></span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">  File:      lo2.c</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment"></span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">  Purpose:   To demonstrate how to solve a small linear</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">             optimization problem using the MOSEK C API, </span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">             and handle the solver result and the problem</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">             solution.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">*/</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-preproc">#include</span> &lt;<span class="language-syntax-text">stdio</span>.<span class="language-syntax-text">h</span>&gt;&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-preproc">#include</span> <span class="language-syntax-string">"mosek.h"</span> &nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> This function prints log output from MOSEK to the terminal. */</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">static</span> <span class="language-syntax-keyword">void</span> <span class="language-syntax-text">MSKAPI</span> <span class="language-syntax-text">printstr</span>(<span class="language-syntax-keyword">void</span> *<span class="language-syntax-text">handle</span>,&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">MSKCONST</span> <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">str</span>[])&nbsp;</span></li><li><span class="language-syntax-text">{&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"%s"</span>,<span class="language-syntax-text">str</span>);&nbsp;</span></li><li><span class="language-syntax-text">} <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> printstr */</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-keyword">int</span> <span class="language-syntax-text">main</span>(<span class="language-syntax-keyword">int</span> <span class="language-syntax-text">argc</span>,<span class="language-syntax-keyword">char</span> *<span class="language-syntax-text">argv</span>[])&nbsp;</span></li><li><span class="language-syntax-text">{&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">const</span> <span class="language-syntax-keyword">int</span> <span class="language-syntax-text">numvar</span> = <span class="language-syntax-text">4</span>,&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">numcon</span> = <span class="language-syntax-text">3</span>;&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">c</span>[]     = {<span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">5</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>};&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Below is the sparse representation of the A</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">     matrix stored by row. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKlidxt</span>     <span class="language-syntax-text">aptrb</span>[] = {<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>, <span class="language-syntax-text">7</span>};&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKlidxt</span>     <span class="language-syntax-text">aptre</span>[] = {<span class="language-syntax-text">3</span>, <span class="language-syntax-text">7</span>, <span class="language-syntax-text">9</span>};&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKidxt</span>      <span class="language-syntax-text">asub</span>[]  = { <span class="language-syntax-text">0</span>,<span class="language-syntax-text">1</span>,<span class="language-syntax-text">2</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">0</span>,<span class="language-syntax-text">1</span>,<span class="language-syntax-text">2</span>,<span class="language-syntax-text">3</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">1</span>,<span class="language-syntax-text">3</span>};    &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">aval</span>[]  = { <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">1</span>.<span class="language-syntax-text">0</span>,&nbsp;</span></li><li><span class="language-syntax-text">                           <span class="language-syntax-text">2</span>.<span class="language-syntax-text">0</span>, <span class="language-syntax-text">3</span>.<span class="language-syntax-text">0</span>};                            &nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bounds on constraints. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKboundkeye</span> <span class="language-syntax-text">bkc</span>[]  = {<span class="language-syntax-text">MSK_BK_FX</span>, <span class="language-syntax-text">MSK_BK_LO</span>,     <span class="language-syntax-text">MSK_BK_UP</span>    };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">blc</span>[]  = {<span class="language-syntax-text">30</span>.<span class="language-syntax-text">0</span>,      <span class="language-syntax-text">15</span>.<span class="language-syntax-text">0</span>,          -<span class="language-syntax-text">MSK_INFINITY</span>};&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">buc</span>[]  = {<span class="language-syntax-text">30</span>.<span class="language-syntax-text">0</span>,      +<span class="language-syntax-text">MSK_INFINITY</span>, <span class="language-syntax-text">25</span>.<span class="language-syntax-text">0</span>         };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bounds on variables. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKboundkeye</span> <span class="language-syntax-text">bkx</span>[]  = {<span class="language-syntax-text">MSK_BK_LO</span>,     <span class="language-syntax-text">MSK_BK_RA</span>, <span class="language-syntax-text">MSK_BK_LO</span>,     <span class="language-syntax-text">MSK_BK_LO</span>     };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">blx</span>[]  = {<span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,           <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,       <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>,           <span class="language-syntax-text">0</span>.<span class="language-syntax-text">0</span>           };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">double</span>       <span class="language-syntax-text">bux</span>[]  = {+<span class="language-syntax-text">MSK_INFINITY</span>, <span class="language-syntax-text">10</span>.<span class="language-syntax-text">0</span>,      +<span class="language-syntax-text">MSK_INFINITY</span>, +<span class="language-syntax-text">MSK_INFINITY</span> };&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKenv_t</span>     <span class="language-syntax-text">env</span>  = <span class="language-syntax-text">NULL</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKtask_t</span>    <span class="language-syntax-text">task</span> = <span class="language-syntax-text">NULL</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKrescodee</span>  <span class="language-syntax-text">r</span>;&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSKidxt</span>      <span class="language-syntax-text">i</span>,<span class="language-syntax-text">j</span>;&nbsp;</span></li><li><span class="language-syntax-text">   &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Create the mosek environment. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_makeenv</span>(&amp;<span class="language-syntax-text">env</span>,<span class="language-syntax-text">NULL</span>);&nbsp;</span></li><li><span class="language-syntax-text">  &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">  {&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Create the optimization task. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_maketask</span>(<span class="language-syntax-text">env</span>,<span class="language-syntax-text">numcon</span>,<span class="language-syntax-text">numvar</span>,&amp;<span class="language-syntax-text">task</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Directs the log task stream to the 'printstr' function. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_linkfunctotaskstream</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">MSK_STREAM_LOG</span>,<span class="language-syntax-text">NULL</span>,<span class="language-syntax-text">printstr</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Append 'numcon' empty constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">     The constraints will initially have no bounds. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_appendcons</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">numcon</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Append 'numvar' variables.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">     The variables will initially be fixed at zero (x=0). */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_appendvars</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">numvar</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">for</span>(<span class="language-syntax-text">j</span>=<span class="language-syntax-text">0</span>; <span class="language-syntax-text">j</span>&lt;<span class="language-syntax-text">numvar</span> &amp;&amp; <span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>; ++<span class="language-syntax-text">j</span>)&nbsp;</span></li><li><span class="language-syntax-text">    {&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the linear term c_j in the objective.*/</span>  &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span>(<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putcj</span>(<span class="language-syntax-text">task</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">c</span>[<span class="language-syntax-text">j</span>]);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the bounds on variable j.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">       blx[j] &lt;= x_j &lt;= bux[j] */</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span>(<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putvarbound</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">j</span>,           <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Index of variable.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">bkx</span>[<span class="language-syntax-text">j</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bound key.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">blx</span>[<span class="language-syntax-text">j</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of lower bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">bux</span>[<span class="language-syntax-text">j</span>]);     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of upper bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">    }&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Set the bounds on constraints.</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">       for i=1, ...,numcon : blc[i] &lt;= constraint i &lt;= buc[i] */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">for</span>(<span class="language-syntax-text">i</span>=<span class="language-syntax-text">0</span>; <span class="language-syntax-text">i</span>&lt;<span class="language-syntax-text">numcon</span> &amp;&amp; <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span>; ++<span class="language-syntax-text">i</span>)&nbsp;</span></li><li><span class="language-syntax-text">    {&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putconbound</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                          <span class="language-syntax-text">i</span>,           <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Index of constraint.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                          <span class="language-syntax-text">bkc</span>[<span class="language-syntax-text">i</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Bound key.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                          <span class="language-syntax-text">blc</span>[<span class="language-syntax-text">i</span>],      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of lower bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                          <span class="language-syntax-text">buc</span>[<span class="language-syntax-text">i</span>]);     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Numerical value of upper bound.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Input row i of A */</span>   &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span>(<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putarow</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">i</span>,                 <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Row index.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">aptre</span>[<span class="language-syntax-text">i</span>]-<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">i</span>], <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Number of non-zeros in row i.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">asub</span>+<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">i</span>],     <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Pointer to column indexes of row i.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">aval</span>+<span class="language-syntax-text">aptrb</span>[<span class="language-syntax-text">i</span>]);    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Pointer to values of row i.*/</span>&nbsp;</span></li><li><span class="language-syntax-text">    }&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Maximize objective function. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> (<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_putobjsense</span>(<span class="language-syntax-text">task</span>, <span class="language-syntax-text">MSK_OBJECTIVE_SENSE_MAXIMIZE</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">    {&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">MSKrescodee</span> <span class="language-syntax-text">trmcode</span>;&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Run optimizer */</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_optimizetrm</span>(<span class="language-syntax-text">task</span>,&amp;<span class="language-syntax-text">trmcode</span>);&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Print a summary containing information</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">         about the solution for debugging purposes. */</span>&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">MSK_solutionsummary</span> (<span class="language-syntax-text">task</span>,<span class="language-syntax-text">MSK_STREAM_LOG</span>);&nbsp;</span></li><li><span class="language-syntax-text">     &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">r</span>==<span class="language-syntax-text">MSK_RES_OK</span> )&nbsp;</span></li><li><span class="language-syntax-text">      {&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-text">MSKsolstae</span> <span class="language-syntax-text">solsta</span>;&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">if</span> (<span class="language-syntax-text">r</span> == <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_getsolsta</span> (<span class="language-syntax-text">task</span>,<span class="language-syntax-text">MSK_SOL_BAS</span>,&amp;<span class="language-syntax-text">solsta</span>);&nbsp;</span></li><li><span class="language-syntax-text">        <span class="language-syntax-keyword">switch</span>(<span class="language-syntax-text">solsta</span>)&nbsp;</span></li><li><span class="language-syntax-text">        {&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_OPTIMAL</span>:   &nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_NEAR_OPTIMAL</span>:&nbsp;</span></li><li><span class="language-syntax-text">          {&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">double</span> *<span class="language-syntax-text">xx</span> = (<span class="language-syntax-keyword">double</span>*) <span class="language-syntax-text">calloc</span>(<span class="language-syntax-text">numvar</span>,<span class="language-syntax-keyword">sizeof</span>(<span class="language-syntax-keyword">double</span>));&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">if</span> ( <span class="language-syntax-text">xx</span> )&nbsp;</span></li><li><span class="language-syntax-text">            {&nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-text">MSK_getxx</span>(<span class="language-syntax-text">task</span>,&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">MSK_SOL_BAS</span>,    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Request the basic solution. */</span>&nbsp;</span></li><li><span class="language-syntax-text">                        <span class="language-syntax-text">xx</span>);&nbsp;</span></li><li><span class="language-syntax-text">        &nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"Optimal primal solution\n"</span>);&nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-keyword">for</span>(<span class="language-syntax-text">j</span>=<span class="language-syntax-text">0</span>; <span class="language-syntax-text">j</span>&lt;<span class="language-syntax-text">numvar</span>; ++<span class="language-syntax-text">j</span>)&nbsp;</span></li><li><span class="language-syntax-text">                <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"x[%d]: %e\n"</span>,<span class="language-syntax-text">j</span>,<span class="language-syntax-text">xx</span>[<span class="language-syntax-text">j</span>]);&nbsp;</span></li><li><span class="language-syntax-text">            }&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">else</span>&nbsp;</span></li><li><span class="language-syntax-text">            {&nbsp;</span></li><li><span class="language-syntax-text">              <span class="language-syntax-text">r</span> = <span class="language-syntax-text">MSK_RES_ERR_SPACE</span>;&nbsp;</span></li><li><span class="language-syntax-text">            }&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">free</span>(<span class="language-syntax-text">xx</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">break</span>;&nbsp;</span></li><li><span class="language-syntax-text">          }&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_DUAL_INFEAS_CER</span>:&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_PRIM_INFEAS_CER</span>:&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_NEAR_DUAL_INFEAS_CER</span>:&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_NEAR_PRIM_INFEAS_CER</span>:  &nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"Primal or dual infeasibility certificate found.\n"</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">break</span>;&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">case</span> <span class="language-syntax-text">MSK_SOL_STA_UNKNOWN</span>:&nbsp;</span></li><li><span class="language-syntax-text">          {&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">symname</span>[<span class="language-syntax-text">MSK_MAX_STR_LEN</span>];&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">desc</span>[<span class="language-syntax-text">MSK_MAX_STR_LEN</span>];&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> If the solutions status is unknown, print the termination code</span>&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-comment">               indicating why the optimizer terminated prematurely. */</span>&nbsp;</span></li><li><span class="language-syntax-text">            &nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-text">MSK_getcodedesc</span>(<span class="language-syntax-text">trmcode</span>,&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">symname</span>,&nbsp;</span></li><li><span class="language-syntax-text">                            <span class="language-syntax-text">desc</span>);&nbsp;</span></li><li><span class="language-syntax-text">            &nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"The solutuion status is unknown.\n"</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"The optimizer terminitated with code: %s\n"</span>,<span class="language-syntax-text">symname</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">break</span>;&nbsp;</span></li><li><span class="language-syntax-text">          }&nbsp;</span></li><li><span class="language-syntax-text">          <span class="language-syntax-keyword">default</span>:&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"Other solution status.\n"</span>);&nbsp;</span></li><li><span class="language-syntax-text">            <span class="language-syntax-keyword">break</span>;&nbsp;</span></li><li><span class="language-syntax-text">        }&nbsp;</span></li><li><span class="language-syntax-text">      }&nbsp;</span></li><li><span class="language-syntax-text">    }&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-keyword">if</span> (<span class="language-syntax-text">r</span> != <span class="language-syntax-text">MSK_RES_OK</span>)&nbsp;</span></li><li><span class="language-syntax-text">    {&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> In case of an error print error code and description. */</span>      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">symname</span>[<span class="language-syntax-text">MSK_MAX_STR_LEN</span>];&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-keyword">char</span> <span class="language-syntax-text">desc</span>[<span class="language-syntax-text">MSK_MAX_STR_LEN</span>];&nbsp;</span></li><li><span class="language-syntax-text">      &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"An error occurred while optimizing.\n"</span>);     &nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-text">MSK_getcodedesc</span> (<span class="language-syntax-text">r</span>,&nbsp;</span></li><li><span class="language-syntax-text">                       <span class="language-syntax-text">symname</span>,&nbsp;</span></li><li><span class="language-syntax-text">                       <span class="language-syntax-text">desc</span>);&nbsp;</span></li><li><span class="language-syntax-text">      <span class="language-syntax-language">printf</span>(<span class="language-syntax-string">"Error %s - '%s'\n"</span>,<span class="language-syntax-text">symname</span>,<span class="language-syntax-text">desc</span>);&nbsp;</span></li><li><span class="language-syntax-text">    }&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Delete the task and the associated data. */</span>&nbsp;</span></li><li><span class="language-syntax-text">    <span class="language-syntax-text">MSK_deletetask</span>(&amp;<span class="language-syntax-text">task</span>);&nbsp;</span></li><li><span class="language-syntax-text">  }&nbsp;</span></li><li><span class="language-syntax-text">&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-comment">/*</span><span class="language-syntax-comment"> Delete the environment and the associated data. */</span>&nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-text">MSK_deleteenv</span>(&amp;<span class="language-syntax-text">env</span>);&nbsp;</span></li><li><span class="language-syntax-text">    &nbsp;</span></li><li><span class="language-syntax-text">  <span class="language-syntax-keyword">return</span> <span class="language-syntax-text">r</span>;&nbsp;</span></li><li><span class="language-syntax-text"><span class="language-syntax-text">}</span>&nbsp;</span></li></ol></pre>
      
    </div>

    <div style="height : 1em;">&nbsp;</div>
    <hr>
    <ul class="pager">
      
      
      
      
    </ul>
    <hr>

    
    <div id="template-footer" style="text-align : right;">
      Copyright &copy; Mosek ApS.
    </div>

    <script src="script/jquery-1.9.0.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>

    <!-- Google Analytics tracking stuff-->
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript">
        try
        {
            var pageTracker = _gat._getTracker("UA-3864116-1");
            pageTracker._trackPageview();
        } 
        catch(err) 
        {}
    </script>

  </div>
</body>

</html>

